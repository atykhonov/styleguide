---
page_title: Generic guides for all languages
---

..  contents::

General
=======

* Rule #1: Keep it DRY! Don't repeat yourself!

* Rule #2: KISS - Keep it simple, Stupid!

* All code in any code-base should look like a single person typed it, no
  matter how many people contributed.

* Write all code as it will be written once and read thousand times.
  Write code for maxium readability.

* Write code as it will be used by humans, not a machine. You are not a
  a compiler/interpretor.

* Optimization should come second and only if really needed. Don't Use clever
  tricks and other optimization to early.

* Don't use abbreviation. Use full, meaningful names.

* Don't use tabs for indentation, and in general don't use tabs for anything
  else. The only exceptions are the Makefiles.

* Indent using 4 spaces.

* Maximum line length is 78 characters. This will allow quoting code without
  exceeding 80 characters length.

* Don't mix multiple languages in a single file.

* No need for the ultimate purism, when using / calling code from external
  libraries it is ok if those calls don't comply with coding convention.

* When extending external libraries use the coding convention used by that
  library. It might be harder to define the border of those changes but this
  should help with sending patches upstream. 

* When reporting a code related problem, use
  `Short, Self Contained, Correct (Compilable), Example`_

.. _Short, Self Contained, Correct (Compilable), Example: http://sscce.org

* Each repository will have a README file describing why it exists and what
  it should do.

* Technical dept comments (ex FIXME, TODO) will always have an attached
  ticket ID and will use the following format. Only **FIXME** marker is used
  followd by ticket ID. Comments will come on a new line::

    # FIXME:1234:
    # Details about this tech-dept.
    # Don't use TODO or other marks, just FIXME


Comments
========

* All comments should be valid sentences and should end with a full stop (.).

* Well commented code is extremely important. Take time to describe
  components, how they work, their limitations, and the way they are
  constructed. Don't leave others in the team guessing as to the purpose
  of uncommon or non-obvious code.

* Place comments on a new line above their subject.

* Avoid end of line comments. End of line comments can be used for lint
  ignores and other hints for automated tools... but not for humans.


Changelog
=========

Each time a branch fixes a bug or adds a new feature, a new entry is
added inside the changelog file.

A marker/tag may be added at the start of the message.
The following markers/tags are in use:

 * ``[bug]`` -  for bug fixes.
 * ``[unix]`` - for changes affecting only Unix systems.
 * ``[windows]`` - for changes affection only Windows system.

Writing good changelog messages:

* A changelog entry is a summary for those changes.

* Don't explain all details of those changes. When more details are required
  use a link to documentation.

* All entries should be full proposition or phrases, ending with a
  punctuation mark.

* Describe what impact the change will have on users. What will the
  users notice?::

    "Users now can do X."
    "It is no longer possible to do Y."
    "The text on the ABC form is now Z."
    "Reworded text from X to be gender neutral."

* If the above isn't clear enough for "John Doe" to understand,
  explaining the background to the change can be helpful, by adding in
  `Previously, X used to do Y.` or `Previously, X used to do Y. Now Z.`.
  For example::

    * [bug] Previously, users were unable to upload files to a folder if they
    had write permissions.


Exceptions handling
===================

Here are some simple generic rules for working with exceptions.

In Chevah project we use 2 major "kinds" of exceptions:

* `Errors` are top level exceptions that are not going to be handled
  internally by the package/library.

* `Exceptions` normal exceptions, passed inside the package/library to signal
  various conditions. The public API for the package/library should not raise
  this kind of exceptions.

Exceptions can take any format, and most of the time they can contain only
a text with some details about the error. These exceptions are low level
and should be raised in simple conditions.

Errors should have an unique ID and a data attribute.
Each ID should be raised from a single place.
The data attribute is a dictionary with key/values that make sense for the
error.


Project specific
================

* Each log message should be documented, listing format, introduction version,
  version since it was obsolete, log type, conditions in which it is raised
  and other informations that can be useful for users.

* A logging messages should only be called from a single place in the code.
  This will greatly help with support and debugging.

* A logging message should have a unique ID. This will help the support team
  by pointing a specific event. It will also help when localized logs are
  used.

* If a logging message should be issued from multiple places, move the
  logging call into a dedicated helper method. This will help with
  automatic detection of accidentally using same message ID for different
  logs.

* Components should not issue logging messages that are outside of
  theirs scope, but rather use exceptions to pass the log informations.

* If there are no other options, rather than directly issuing a logging
  message, the component should call a function located in the component
  that 'owns' the log ID that will issue the log.

* All branches will need to use the following convention:
  ``TICKETNO-SHORT_DESCRIPTION``. By having a reference to a ticket, it will
  be much easier to track and keep a record of branch purpose and its
  development.

Example::

    447-add_sqlite_log

* Each user configuration options should be documentented,
  listing valid values, place where the configuration is located,
  introduction version, version since it was obsolete,
  together with a description of the purpose and effect.

* Configuration options will be documented using the following format. Please
  note the order in which fields are defined, the name of the fiels and the
  format for declaring possibile values. All fields should be present, and
  if no value is defined, use 'None' or leave it blank.

::

  log_file
  --------

  :Optional: Yes
  :Default value: log/server.log
  :Values: * some value
           * other value - short descriptionf or this value.
           * yet another value
  :Available from version: 1.6.0
  :Available up to version: None
  :Description:
      This is the long description of the configuration option. It can
      span multiple lines.

      It can also span multiple paragraph.

      This should be the place to describe in details available values
      that can be set.
